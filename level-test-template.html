<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="page-title">IC3 Minitest</title>
    <style>
        /* Base Styles (Consistent with index.html and practice.html) */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header */
        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            padding: 20px 0;
            margin-bottom: 30px;
            border-radius: 15px;
        }

        .header h1 {
            text-align: center;
            color: #2c3e50;
            font-size: clamp(1.8rem, 4vw, 2.5rem); /* Fluid font size */
            margin-bottom: 10px;
        }

        .header p {
            text-align: center;
            color: #7f8c8d;
            font-size: clamp(0.9rem, 2vw, 1.1rem); /* Fluid font size */
        }

        /* Navigation Buttons (e.g., "Ch·ªçn Kh·ªëi Kh√°c", "Trang Luy·ªán Thi Ch√≠nh") */
        .nav-container {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 30px 0;
            flex-wrap: wrap;
        }

        .nav-btn {
            background: rgba(255, 255, 255, 0.9);
            border: 2px solid #667eea;
            color: #667eea;
            padding: 15px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            font-size: 1rem;
            text-align: center;
        }

        .nav-btn:hover, .nav-btn.active {
            background: #667eea;
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.4);
        }

        /* Main Content Container for the Test List */
        .test-list-container { /* Renamed from .test-container for clarity */
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
            display: block; /* Always visible for this page */
            animation: fadeIn 0.5s ease;
        }

        .test-header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #f0f0f0;
        }

        .test-title {
            font-size: clamp(1.5rem, 3.5vw, 2rem); /* Fluid font size */
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .test-description {
            color: #7f8c8d;
            font-size: clamp(0.9rem, 2vw, 1.1rem); /* Fluid font size */
        }

        /* Grid for Minitest Cards - Similar to Features in index.html */
        .minitest-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); /* Adjusted for 4 cards or stack */
            gap: 25px;
            margin-top: 30px;
        }

        .minitest-card {
            background: #f8f9fa; /* Lighter background for cards within container */
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08); /* Softer shadow */
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
            border: 2px solid #e9ecef; /* Subtle border */
        }

        .minitest-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.12);
            border-color: #667eea; /* Highlight on hover */
        }

        .minitest-icon {
            font-size: 3rem;
            margin-bottom: 20px;
            line-height: 1; /* Ensure emoji doesn't add extra space */
        }

        .minitest-title {
            font-size: 1.5rem;
            color: #2c3e50;
            margin-bottom: 10px; /* Reduce margin slightly */
        }

        .minitest-description {
            color: #7f8c8d;
            margin-bottom: 15px; /* Reduce margin slightly */
            font-size: 0.95rem;
        }

        .minitest-stats {
            display: flex;
            justify-content: center; /* Center align stats */
            gap: 15px; /* Space between stats */
            margin-bottom: 20px;
            font-size: 0.9rem;
            color: #95a5a6;
        }

        /* Start Button within cards */
        .minitest-card .btn {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 10px 25px; /* Slightly smaller button */
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            font-size: 0.95rem;
            display: inline-block; /* Ensure it stays in its place */
        }

        .minitest-card .btn:hover {
            background: linear-gradient(45deg, #5a6fd8, #6a3ea2); /* Darker on hover */
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.4);
        }

        /* Animations */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Responsive Adjustments */
        /* Tablet and smaller screens */
        @media (max-width: 992px) {
            .container {
                padding: 15px;
            }
            .header {
                margin-bottom: 20px;
                padding: 15px 0;
            }
            .nav-container {
                gap: 15px;
                margin: 20px 0;
            }
            .nav-btn {
                padding: 12px 25px;
                font-size: 0.95rem;
            }
            .test-list-container { /* Adjusted container padding */
                padding: 30px;
            }
            .minitest-grid {
                grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); /* Allow smaller cards for 3-4 columns */
                gap: 20px;
            }
        }

        /* Mobile screens */
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            .header {
                padding: 15px 0;
            }
            .header h1 {
                font-size: 2rem;
            }
            
            .nav-container {
                flex-direction: column; /* Stack buttons vertically */
                gap: 10px;
                margin: 15px 0;
            }
            
            .nav-btn {
                width: 80%; /* Make buttons wider */
                max-width: 300px;
                padding: 10px 20px;
                font-size: 0.9rem;
            }
            
            .test-list-container {
                padding: 20px;
                border-radius: 15px;
            }

            .test-header {
                margin-bottom: 20px;
                padding-bottom: 15px;
            }

            .minitest-grid {
                grid-template-columns: 1fr; /* Stack cards on small mobile */
                gap: 15px; /* Reduce gap when stacked */
            }

            .minitest-card {
                padding: 25px;
            }

            .minitest-icon {
                font-size: 2.5rem;
                margin-bottom: 15px;
            }

            .minitest-title {
                font-size: 1.3rem;
            }
            .minitest-description {
                font-size: 0.85rem;
            }
            .minitest-stats {
                font-size: 0.8rem;
                gap: 10px;
            }
            .minitest-card .btn {
                padding: 8px 20px;
                font-size: 0.85rem;
            }
        }

        /* Extra small mobile screens */
        @media (max-width: 480px) {
            .container {
                padding: 5px;
            }

            .header {
                padding: 10px 0;
            }

            .header h1 {
                font-size: 1.6rem;
            }

            .header p {
                font-size: 0.85rem;
            }

            .test-list-container {
                padding: 15px;
            }

            .nav-btn {
                font-size: 0.8rem;
                padding: 8px 15px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 id="main-header-title"></h1>
            <p id="main-header-description"></p>
        </div>

        <div class="nav-container">
            <a href="practice.html" class="nav-btn">üè† Ch·ªçn Kh·ªëi Kh√°c</a>
            <a href="index.html" class="nav-btn">üìù Trang Ch√≠nh</a>
        </div>

        <div id="test-list-container" class="test-list-container">
            <div class="test-header">
                <h2 class="test-title" id="section-title"></h2>
                <p class="test-description" id="section-description"></p>
            </div>
            
            <div class="minitest-grid" id="minitest-cards-grid">
                </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const urlParams = new URLSearchParams(window.location.search);
            const program = urlParams.get('program');
            const level = urlParams.get('level');

            const pageTitleElem = document.getElementById('page-title');
            const mainHeaderTitleElem = document.getElementById('main-header-title');
            const mainHeaderDescriptionElem = document.getElementById('main-header-description');
            const sectionTitleElem = document.getElementById('section-title');
            const sectionDescriptionElem = document.getElementById('section-description');
            const minitestCardsGrid = document.getElementById('minitest-cards-grid');

            let programName = "";
            let levelName = "";
            let testsData = [];

            // --- Data for each program and level ---
            if (program === 'elementary') {
                programName = "Ch∆∞∆°ng tr√¨nh Ti·ªÉu h·ªçc";
                if (level === 'spark1') {
                    levelName = "IC3 GS6 Spark Level 1 (Kh·ªëi 3)";
                    testsData = [
                        { icon: 'üñ•Ô∏è', title: 'Minitest 1', link: 'TiH/class3/minitest/test_1.html' },
                        { icon: 'üìÑ', title: 'Minitest 2', link: 'TiH/class3/minitest/test_2.html' },
                        { icon: 'üåê', title: 'Minitest 3', link: 'TiH/class3/minitest/test_3.html' },
                        { icon: 'üéÆ', title: 'Minitest 4', link: 'TiH/class3/minitest/test_4.html' } // Added fourth test
                    ];
                } else if (level === 'spark2') {
                    levelName = "IC3 GS6 Spark Level 2 (Kh·ªëi 4)";
                    testsData = [
                        { icon: 'üíæ', title: 'Minitest 1', link: 'TiH/class4/minitest/test_1.html' },
                        { icon: 'üìß', title: 'Minitest 2', link: 'TiH/class4/minitest/test_2.html' },
                        { icon: 'üîç', title: 'Minitest 3', link: 'TiH/class4/minitest/test_3.html' },
                        { icon: 'üì∏', title: 'Minitest 4', link: 'TiH/class4/minitest/test_4.html' } // Added fourth test
                    ];
                } else if (level === 'spark3') {
                    levelName = "IC3 GS6 Spark Level 3 (Kh·ªëi 5)";
                    testsData = [
                        { icon: 'üõ°Ô∏è', title: 'Minitest 1', link: 'TiH/class5/minitest/test_1.html' },
                        { icon: 'üß©', title: 'Minitest 2', link: 'TiH/class5/minitest/test_2.html' },
                        { icon: 'üìà', title: 'Minitest 3', link: 'TiH/class5/minitest/test_3.html' },
                        { icon: 'üí¨', title: 'Minitest 4', link: 'TiH/class5/minitest/test_4.html' } // Added fourth test
                    ];
                }
            } else if (program === 'secondary') {
                programName = "Ch∆∞∆°ng tr√¨nh THCS";
                if (level === 'level1') {
                    levelName = "IC3 GS6 Level 1 (Kh·ªëi 6)";
                    testsData = [
                        { icon: 'üíª', title: 'Minitest 1', link: 'THCS/class6/minitest/test_1.html' },
                        { icon: '‚úçÔ∏è', title: 'Minitest 2', link: 'THCS/class6/minitest/test_2.html' },
                        { icon: 'üîó', title: 'Minitest 3', link: 'THCS/class6/minitest/test_3.html' },
                        { icon: 'üóÑÔ∏è', title: 'Minitest 4', link: 'THCS/class6/minitest/test_4.html' } // Added fourth test
                    ];
                } else if (level === 'level2') {
                    levelName = "IC3 GS6 Level 2 (Kh·ªëi 7)";
                    testsData = [
                        { icon: 'üìä', title: 'Minitest 1', link: 'THCS/class7/minitest/test_1.html' },
                        { icon: 'üåê', title: 'Minitest 2', link: 'THCS/class7/minitest/test_2.html' },
                        { icon: 'üí°', title: 'Minitest 3', link: 'THCS/class7/minitest/test_3.html' },
                        { icon: 'üìà', title: 'Minitest 4', link: 'THCS/class7/minitest/test_4.html' } // Added fourth test
                    ];
                } else if (level === 'level3') {
                    levelName = "IC3 GS6 Level 3 (Kh·ªëi 8)";
                    testsData = [
                        { icon: 'üõ†Ô∏è', title: 'Minitest 1', link: 'THCS/class8/minitest/test_1.html' },
                        { icon: '‚òÅÔ∏è', title: 'Minitest 2', link: 'THCS/class8/minitest/test_2.html' },
                        { icon: 'üíª', title: 'Minitest 3', link: 'THCS/class8/minitest/test_3.html' },
                        { icon: 'üîê', title: 'Minitest 4', link: 'THCS/class8/minitest/test_4.html' } // Added fourth test
                    ];
                }
            }

            // --- Update content based on URL parameters ---
            pageTitleElem.textContent = `${levelName} - IC3 Minitest`;
            mainHeaderTitleElem.textContent = `${levelName}`;
            mainHeaderDescriptionElem.textContent = `Luy·ªán t·∫≠p c√°c k·ªπ nƒÉng ${levelName}`;
            sectionTitleElem.textContent = `C√°c B√†i Test ${levelName}`;
            sectionDescriptionElem.textContent = `Ch·ªçn b√†i test ƒë·ªÉ b·∫Øt ƒë·∫ßu √¥n luy·ªán`;

            // --- Populate minitest cards ---
            if (testsData.length > 0) {
                testsData.forEach(test => {
                    const cardHtml = `
                        <div class="minitest-card" onclick="window.location.href='${test.link}'">
                            <div class="minitest-icon">${test.icon}</div>
                            <h3 class="minitest-title">${test.title}</h3>
                            <p class="minitest-description">${test.desc}</p>
                            <div class="minitest-stats">
                                <span>${test.questions}</span>
                                <span>${test.time}</span>
                            </div>
                            <div class="btn">B·∫Øt ƒë·∫ßu</div>
                        </div>
                    `;
                    minitestCardsGrid.insertAdjacentHTML('beforeend', cardHtml);
                });
            } else {
                minitestCardsGrid.innerHTML = '<p style="text-align: center; color: #7f8c8d;">Kh√¥ng c√≥ b√†i test n√†o cho c·∫•p ƒë·ªô n√†y.</p>';
            }
        });
    </script>
</body>
</html>